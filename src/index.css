@tailwind base;
@tailwind components;
@tailwind utilities;

* {
  -webkit-tap-highlight-color: transparent;
  -webkit-touch-callout: none;
  user-select: none;
}

input, textarea {
  user-select: auto;
}

@keyframes scan {
  0% { bottom: 100%; }
  100% { bottom: -100px; }
}


.leaflet-container {
  background: #020617 !important;
  cursor: crosshair !important;
}

.leaflet-container.leaflet-container--light {
  /* light fallback while tiles load or if they fail */
  background: #f8fafc !important;
  cursor: crosshair !important;
}

/* Efeito de scanline tático */
.scanline-overlay {
  position: fixed;
  inset: 0;
  background: linear-gradient(
    to bottom,
    transparent 50%,
    rgba(16, 185, 129, 0.02) 50%
  );
  background-size: 100% 4px;
  z-index: 2000;
  pointer-events: none;
}

.hud-glass {
  background: rgba(15, 23, 42, 0.75);
  backdrop-filter: blur(16px) saturate(180%);
  border: 1px solid rgba(255, 255, 255, 0.08);
  box-shadow: 0 8px 32px 0 rgba(0, 0, 0, 0.5);
}

/* Esconder attribution do Leaflet para um visual de App nativo */
.leaflet-control-attribution {
  display: none !important;
}

/* Territory manager — active cards (scoped) */
.tm-cards-wrap { padding-left: 4px; padding-right: 4px; }
.tm-cards-scroll { -webkit-overflow-scrolling: touch; }
.tm-card {
  overflow: visible;
  position: relative;
  width: 190px;
  height: 254px;
  background: var(--card-bg, #fff);
  box-shadow: 0 6px 22px rgba(2,6,23,0.18);
  border-radius: 14px;
  transform-origin: center;
}
.tm-card:before,
.tm-card:after {
  content: "";
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  border-radius: 12px;
  background: var(--card-bg, #fff);
  transition: 0.5s;
  z-index: -2;
}
.tm-card:after { transform: rotate(-2deg); z-index: -3; }

.tm-card .details {
  position: absolute;
  left: 8px;
  right: 8px;
  bottom: 8px;
  height: 64px;
  text-align: center;
  text-transform: uppercase;
  z-index: 3;
}

.tm-card .imgbox {
  position: absolute;
  top: 12px;
  left: 12px;
  right: 12px;
  bottom: 72px;
  background: linear-gradient(45deg,#111827 0%, #1f2937 100%);
  transition: 0.5s;
  border-radius: 12px;
  z-index: 1;
  overflow: hidden;
  display: flex;
  align-items: center;
  justify-content: center;
}

.tm-card .img {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background: linear-gradient(45deg,#4158D0,#C850C0);
}

.tm-card .tm-card-icon {
  position: relative;
  z-index: 2;
  font-size: 34px;
}

.tm-card .title {
  font-weight: 700;
  font-size: 14px;
  color: #0f1724;
  letter-spacing: 0.5px;
}
.tm-card .caption {
  font-weight: 600;
  font-size: 12px;
  color: #4158D0;
  display: block;
  margin-top: 6px;
}

.tm-card:hover .imgbox { bottom: 92px; }
.tm-card:hover:before { transform: rotate(20deg); }
.tm-card:hover:after { transform: rotate(10deg); box-shadow: 0 10px 30px rgba(2,6,23,0.2); }

/* Used / inventory card variant */
.tm-card--used { opacity: 0.94; transform: translateY(0); border: 1px solid rgba(15,23,42,0.04); }
.tm-card--used .imgbox { filter: saturate(0.95) contrast(1.02); }
.tm-card--used .title { color: #0b1220; }
.tm-card--used:after { transform: rotate(6deg); }

/* Recently used visual */
.tm-card--recent { opacity: 0.9; transform: scale(0.985); filter: grayscale(0.02) saturate(0.9); }
.tm-card--recent .imgbox { opacity: 0.95; transform: translateY(-2px) scale(0.995); }
.tm-card--recent .caption { color: #ef4444; font-weight: 700; }

/* Small card variant for bottom sections */
.tm-card--sm {
  width: 110px;
  height: 148px;
  border-radius: 10px;
  box-shadow: 0 3px 12px rgba(2,6,23,0.14);
}
.tm-card--sm:before,
.tm-card--sm:after { border-radius: 9px; }
.tm-card--sm .imgbox {
  top: 7px;
  left: 7px;
  right: 7px;
  bottom: 44px;
  border-radius: 8px;
}
.tm-card--sm .tm-card-icon { font-size: 22px; }
.tm-card--sm .details {
  left: 5px;
  right: 5px;
  bottom: 4px;
  height: 38px;
}
.tm-card--sm .title { font-size: 10px; letter-spacing: 0.3px; }
.tm-card--sm .caption { font-size: 9px; margin-top: 3px; }
.tm-card--sm:hover .imgbox { bottom: 54px; }
.tm-card--sm:hover:before { transform: rotate(14deg); }
.tm-card--sm:hover:after { transform: rotate(7deg); }

@media (max-width: 420px) {
  .tm-card { width: calc(100% - 32px); min-width: calc(100% - 32px); height: 220px; border-radius: 14px; }
  .tm-card .title { font-size: 16px; }
  .tm-card .caption { font-size: 14px; }
}
